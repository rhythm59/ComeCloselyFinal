{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _jsxFileName = \"C:\\\\Program Files\\\\nodejs\\\\ComeClosely\\\\node_modules\\\\react-native-3dcube-navigation\\\\src\\\\Vertical.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar _Dimensions$get = _reactNative.Dimensions.get(\"window\"),\n    width = _Dimensions$get.width,\n    height = _Dimensions$get.height;\n\nvar PESPECTIVE = _reactNative.Platform.OS === \"ios\" ? 2.39 : 1.9;\nvar TR_POSITION = _reactNative.Platform.OS === \"ios\" ? 2 : 1.4;\n\nvar CubeNavigationVertical = function (_React$Component) {\n  (0, _inherits2.default)(CubeNavigationVertical, _React$Component);\n\n  var _super = _createSuper(CubeNavigationVertical);\n\n  function CubeNavigationVertical(_props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, CubeNavigationVertical);\n    _this = _super.call(this, _props);\n\n    _this._getTransformsFor = function (i) {\n      var scrollY = _this._animatedValue.y;\n      var pageY = -height * i;\n      var translateY = scrollY.interpolate({\n        inputRange: [pageY - height, pageY, pageY + height],\n        outputRange: [(-height - 1) / TR_POSITION, 0, (height + 1) / TR_POSITION],\n        extrapolate: \"clamp\"\n      });\n      var rotateX = scrollY.interpolate({\n        inputRange: [pageY - height, pageY, pageY + height],\n        outputRange: [\"60deg\", \"0deg\", \"-60deg\"],\n        extrapolate: \"clamp\"\n      });\n      var translateYAfterRotate = scrollY.interpolate({\n        inputRange: [pageY - height, pageY, pageY + height],\n        inputRange: [pageY - height, pageY - height + 0.1, pageY, pageY + height - 0.1, pageY + height],\n        outputRange: [-height - 1, (-height - 1) / PESPECTIVE, 0, (height + 1) / PESPECTIVE, +height + 1],\n        extrapolate: \"clamp\"\n      });\n      var opacity = scrollY.interpolate({\n        inputRange: [pageY - height, pageY - height + 30, pageY, pageY + height - 100, pageY + height],\n        outputRange: [0, 0.6, 1, 0.6, 0],\n        extrapolate: \"clamp\"\n      });\n      return {\n        transform: [{\n          perspective: height\n        }, {\n          translateY: translateY\n        }, {\n          rotateX: rotateX\n        }, {\n          translateY: translateYAfterRotate\n        }],\n        opacity: opacity\n      };\n    };\n\n    _this._renderChild = function (child, i) {\n      var expandStyle = _this.props.expandView ? {\n        paddingRight: 100,\n        paddingLeft: 100,\n        width: width + 200,\n        height: height\n      } : {\n        width: width,\n        height: height\n      };\n      var style = [child.props.style, expandStyle];\n      var props = {\n        i: i,\n        style: style\n      };\n\n      var element = _react.default.cloneElement(child, props);\n\n      return _react.default.createElement(_reactNative.Animated.View, {\n        style: [_reactNative.StyleSheet.absoluteFill, {\n          zIndex: -i\n        }, _this._getTransformsFor(i, false)],\n        key: \"child- \" + i,\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 7\n        }\n      }, element);\n    };\n\n    _this._closest = function (num) {\n      var array = _this.pages;\n      var i = 0;\n      var minDiff = 1000;\n      var ans;\n\n      for (i in array) {\n        var m = Math.abs(num - array[i]);\n\n        if (m < minDiff) {\n          minDiff = m;\n          ans = array[i];\n        }\n      }\n\n      return ans;\n    };\n\n    _this.pages = _this.props.children.map(function (child, index) {\n      return height * -index;\n    });\n    _this.state = {\n      scrollLockPage: _this.pages[_this.props.scrollLockPage]\n    };\n    return _this;\n  }\n\n  (0, _createClass2.default)(CubeNavigationVertical, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      this._animatedValue = new _reactNative.Animated.ValueXY();\n\n      this._animatedValue.setValue({\n        x: 0,\n        y: 0\n      });\n\n      this._value = {\n        x: 0,\n        y: 0\n      };\n\n      this._animatedValue.addListener(function (value) {\n        _this2._value = value;\n      });\n\n      this._panResponder = _reactNative.PanResponder.create({\n        onMoveShouldSetResponderCapture: function onMoveShouldSetResponderCapture() {\n          return Math.abs(gestureState.dy) > 40;\n        },\n        onMoveShouldSetPanResponderCapture: function onMoveShouldSetPanResponderCapture(evt, gestureState) {\n          return Math.abs(gestureState.dy) > 40;\n        },\n        onPanResponderGrant: function onPanResponderGrant(e, gestureState) {\n          _this2._animatedValue.stopAnimation();\n\n          _this2._animatedValue.setOffset({\n            x: _this2._value.x,\n            y: _this2._value.y\n          });\n        },\n        onPanResponderMove: function onPanResponderMove(e, gestureState) {\n          _reactNative.Animated.event([null, {\n            dy: _this2._animatedValue.y\n          }])(e, gestureState);\n\n          _this2.lockLast = _this2.state.scrollLockPage != undefined ? -_this2.state.scrollLockPage : _this2.pages[_this2.pages.length - 1];\n\n          if (_this2._value.y > _this2.pages[0] || _this2._value.y < _this2.lockLast) {\n            _this2._animatedValue.setValue({\n              x: 0,\n              y: 0\n            });\n          }\n        },\n        onPanResponderRelease: function onPanResponderRelease(e, gestureState) {\n          var goTo = _this2._closest(_this2._value.y + gestureState.dy);\n\n          if (_this2.lockLast > goTo) return;\n\n          _this2._animatedValue.flattenOffset({\n            x: _this2._value.x,\n            y: _this2._value.y\n          });\n\n          _reactNative.Animated.spring(_this2._animatedValue, {\n            toValue: {\n              x: 0,\n              y: goTo\n            },\n            friction: 3,\n            tension: 0.6\n          }).start();\n\n          setTimeout(function () {\n            if (_this2.props.callBackAfterSwipe) _this2.props.callBackAfterSwipe(goTo);\n          }, 500);\n        }\n      });\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(props) {\n      this.setState({\n        scrollLockPage: props.scrollLockPage ? this.pages[props.scrollLockPage] : undefined\n      });\n    }\n  }, {\n    key: \"scrollTo\",\n    value: function scrollTo(page, animated) {\n      animated = animated == undefined ? true : animated;\n\n      if (animated) {\n        _reactNative.Animated.spring(this._animatedValue, {\n          toValue: {\n            x: 0,\n            y: this.pages[page]\n          },\n          friction: 4,\n          tension: 0.8\n        }).start();\n      } else {\n        this._animatedValue.setValue({\n          x: 0,\n          y: this.pages[page]\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var expandStyle = this.props.expandView ? {\n        top: -100,\n        left: 0,\n        width: width,\n        height: height + 200\n      } : {\n        width: width,\n        height: height\n      };\n      return _react.default.createElement(_reactNative.Animated.View, (0, _extends2.default)({\n        style: [{\n          position: \"absolute\"\n        }],\n        ref: function ref(view) {\n          _this3._scrollView = view;\n        }\n      }, this._panResponder.panHandlers, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 7\n        }\n      }), _react.default.createElement(_reactNative.Animated.View, {\n        style: [{\n          backgroundColor: \"#000\",\n          position: \"absolute\",\n          width: width,\n          height: height\n        }, expandStyle],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 9\n        }\n      }, this.props.children.map(this._renderChild)));\n    }\n  }]);\n  return CubeNavigationVertical;\n}(_react.default.Component);\n\nexports.default = CubeNavigationVertical;\nCubeNavigationVertical.propTypes = {\n  callBackAfterSwipe: _propTypes.default.func,\n  scrollLockPage: _propTypes.default.number,\n  expandView: _propTypes.default.bool\n};\nCubeNavigationVertical.defaultProps = {\n  expandView: false\n};","map":{"version":3,"sources":["C:/Program Files/nodejs/ComeClosely/node_modules/react-native-3dcube-navigation/src/Vertical.js"],"names":["Dimensions","get","width","height","PESPECTIVE","Platform","OS","TR_POSITION","CubeNavigationVertical","props","_getTransformsFor","i","scrollY","_animatedValue","y","pageY","translateY","interpolate","inputRange","outputRange","extrapolate","rotateX","translateYAfterRotate","opacity","transform","perspective","_renderChild","child","expandStyle","expandView","paddingRight","paddingLeft","style","element","React","cloneElement","StyleSheet","absoluteFill","zIndex","_closest","num","array","pages","minDiff","ans","m","Math","abs","children","map","index","state","scrollLockPage","Animated","ValueXY","setValue","x","_value","addListener","value","_panResponder","PanResponder","create","onMoveShouldSetResponderCapture","gestureState","dy","onMoveShouldSetPanResponderCapture","evt","onPanResponderGrant","e","stopAnimation","setOffset","onPanResponderMove","event","lockLast","undefined","length","onPanResponderRelease","goTo","flattenOffset","spring","toValue","friction","tension","start","setTimeout","callBackAfterSwipe","setState","page","animated","top","left","position","view","_scrollView","panHandlers","backgroundColor","Component","propTypes","PropTypes","func","number","bool","defaultProps"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport {\n  PanResponder,\n  Animated,\n  Dimensions,\n  StyleSheet,\n  Image,\n  View,\n  Text,\n  Platform\n} from \"react-native\";\nconst { width, height } = Dimensions.get(\"window\");\n\nconst PESPECTIVE = Platform.OS === \"ios\" ? 2.39 : 1.9;\nconst TR_POSITION = Platform.OS === \"ios\" ? 2 : 1.4;\n\nexport default class CubeNavigationVertical extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.pages = this.props.children.map((child, index) => height * -index);\n\n    this.state = {\n      scrollLockPage: this.pages[this.props.scrollLockPage]\n    };\n  }\n\n  componentWillMount() {\n    this._animatedValue = new Animated.ValueXY();\n    this._animatedValue.setValue({ x: 0, y: 0 });\n    this._value = { x: 0, y: 0 };\n\n    this._animatedValue.addListener(value => {\n      this._value = value;\n    });\n\n    this._panResponder = PanResponder.create({\n      onMoveShouldSetResponderCapture: () => Math.abs(gestureState.dy) > 40,\n      onMoveShouldSetPanResponderCapture: (evt, gestureState) =>\n        Math.abs(gestureState.dy) > 40,\n      onPanResponderGrant: (e, gestureState) => {\n        this._animatedValue.stopAnimation();\n        this._animatedValue.setOffset({ x: this._value.x, y: this._value.y });\n      },\n      onPanResponderMove: (e, gestureState) => {\n        Animated.event([null, { dy: this._animatedValue.y }])(e, gestureState);\n\n        // Avoid last movement\n        this.lockLast =\n          this.state.scrollLockPage != undefined\n            ? -this.state.scrollLockPage\n            : this.pages[this.pages.length - 1];\n        if (this._value.y > this.pages[0] || this._value.y < this.lockLast) {\n          this._animatedValue.setValue({ x: 0, y: 0 });\n        }\n      },\n      onPanResponderRelease: (e, gestureState) => {\n        let goTo = this._closest(this._value.y + gestureState.dy);\n        if (this.lockLast > goTo) return; //remove in the future\n\n        this._animatedValue.flattenOffset({\n          x: this._value.x,\n          y: this._value.y\n        });\n        Animated.spring(this._animatedValue, {\n          toValue: { x: 0, y: goTo },\n          friction: 3,\n          tension: 0.6\n        }).start();\n        setTimeout(() => {\n          if (this.props.callBackAfterSwipe)\n            this.props.callBackAfterSwipe(goTo);\n        }, 500);\n      }\n    });\n  }\n\n  componentWillReceiveProps(props) {\n    this.setState({\n      scrollLockPage: props.scrollLockPage\n        ? this.pages[props.scrollLockPage]\n        : undefined\n    });\n  }\n\n  /*\n    @page: index\n  */\n  scrollTo(page, animated) {\n    animated = animated == undefined ? true : animated;\n\n    if (animated) {\n      Animated.spring(this._animatedValue, {\n        toValue: { x: 0, y: this.pages[page] },\n        friction: 4,\n        tension: 0.8\n      }).start();\n    } else {\n      this._animatedValue.setValue({ x: 0, y: this.pages[page] });\n    }\n  }\n\n  /*\n  Private methods\n  */\n\n  _getTransformsFor = i => {\n    let scrollY = this._animatedValue.y;\n    let pageY = -height * i;\n\n    let translateY = scrollY.interpolate({\n      inputRange: [pageY - height, pageY, pageY + height],\n      outputRange: [(-height - 1) / TR_POSITION, 0, (height + 1) / TR_POSITION],\n      extrapolate: \"clamp\"\n    });\n\n    let rotateX = scrollY.interpolate({\n      inputRange: [pageY - height, pageY, pageY + height],\n      outputRange: [\"60deg\", \"0deg\", \"-60deg\"],\n      extrapolate: \"clamp\"\n    });\n\n    let translateYAfterRotate = scrollY.interpolate({\n      inputRange: [pageY - height, pageY, pageY + height],\n      inputRange: [\n        pageY - height,\n        pageY - height + 0.1,\n        pageY,\n        pageY + height - 0.1,\n        pageY + height\n      ],\n      outputRange: [\n        -height - 1,\n        (-height - 1) / PESPECTIVE,\n        0,\n        (height + 1) / PESPECTIVE,\n        +height + 1\n      ],\n      extrapolate: \"clamp\"\n    });\n\n    let opacity = scrollY.interpolate({\n      inputRange: [\n        pageY - height,\n        pageY - height + 30,\n        pageY,\n        pageY + height - 100,\n        pageY + height\n      ],\n      outputRange: [0, 0.6, 1, 0.6, 0],\n      extrapolate: \"clamp\"\n    });\n\n    return {\n      transform: [\n        { perspective: height },\n        { translateY },\n        { rotateX: rotateX },\n        { translateY: translateYAfterRotate }\n      ],\n      opacity: opacity\n    };\n  };\n\n  _renderChild = (child, i) => {\n    let expandStyle = this.props.expandView\n      ? { paddingRight: 100, paddingLeft: 100, width: width + 200, height }\n      : { width, height };\n    let style = [child.props.style, expandStyle];\n    let props = {\n      i,\n      style\n    };\n    let element = React.cloneElement(child, props);\n\n    return (\n      <Animated.View\n        style={[\n          StyleSheet.absoluteFill,\n          { zIndex: -i },\n          this._getTransformsFor(i, false)\n        ]}\n        key={`child- ${i}`}\n      >\n        {element}\n      </Animated.View>\n    );\n  };\n\n  _closest = num => {\n    let array = this.pages;\n\n    let i = 0;\n    let minDiff = 1000;\n    let ans;\n    for (i in array) {\n      let m = Math.abs(num - array[i]);\n      if (m < minDiff) {\n        minDiff = m;\n        ans = array[i];\n      }\n    }\n    return ans;\n  };\n\n  render() {\n    let expandStyle = this.props.expandView\n      ? { top: -100, left: 0, width, height: height + 200 }\n      : { width, height };\n\n    return (\n      <Animated.View\n        style={[{ position: \"absolute\" }]}\n        ref={view => {\n          this._scrollView = view;\n        }}\n        {...this._panResponder.panHandlers}\n      >\n        <Animated.View\n          style={[\n            { backgroundColor: \"#000\", position: \"absolute\", width, height },\n            expandStyle\n          ]}\n        >\n          {this.props.children.map(this._renderChild)}\n        </Animated.View>\n      </Animated.View>\n    );\n  }\n}\n\nCubeNavigationVertical.propTypes = {\n  callBackAfterSwipe: PropTypes.func,\n  scrollLockPage: PropTypes.number,\n  expandView: PropTypes.bool\n};\n\nCubeNavigationVertical.defaultProps = {\n  expandView: false\n};\n"]},"metadata":{},"sourceType":"script"}
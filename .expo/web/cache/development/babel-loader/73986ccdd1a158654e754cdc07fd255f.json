{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _reactRedux = require(\"react-redux\");\n\nvar _reactNativeModal = _interopRequireDefault(require(\"react-native-modal\"));\n\nvar _config = require(\"../../config\");\n\nvar _styles = _interopRequireDefault(require(\"./styles\"));\n\nvar _Loading = _interopRequireDefault(require(\"../../components/Loading\"));\n\nvar _event = require(\"../../../state/ducks/event\");\n\nvar _auth = require(\"../../../providers/auth\");\n\nvar _jsxFileName = \"C:\\\\Program Files\\\\nodejs\\\\ComeClosely\\\\app\\\\views\\\\screens\\\\MyEvents\\\\index.tsx\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar INITIAL_STATE = {\n  isModalVisible: false,\n  selectedEventId: undefined\n};\n\nvar MyEvents = function (_React$Component) {\n  (0, _inherits2.default)(MyEvents, _React$Component);\n\n  var _super = _createSuper(MyEvents);\n\n  function MyEvents(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, MyEvents);\n    _this = _super.call(this, props);\n\n    _this.showModal = function (id) {\n      _this.setState({\n        selectedEventId: id,\n        isModalVisible: true\n      });\n    };\n\n    _this.modalYes = function () {\n      _this.setState({\n        isModalVisible: false\n      });\n\n      if (_this.state.selectedEventId) {\n        _this.props.deleteEvent(_this.state.selectedEventId);\n      }\n    };\n\n    _this.modalNo = function () {\n      _this.setState({\n        isModalVisible: false\n      });\n    };\n\n    _this.state = (0, _extends2.default)({}, INITIAL_STATE);\n    return _this;\n  }\n\n  (0, _createClass2.default)(MyEvents, [{\n    key: \"formattedDate\",\n    value: function formattedDate(date) {\n      console.log('date:', date);\n      return date == null ? void 0 : date.substring(0, date.lastIndexOf(' ') + 1);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.getEvents();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          events = _this$props.events,\n          getEventsLoading = _this$props.getEventsLoading,\n          deleteEventLoading = _this$props.deleteEventLoading;\n      console.log(events);\n      return _react.default.createElement(_reactNative.View, {\n        style: _styles.default.mainView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 7\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        style: _styles.default.backImage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 9\n        }\n      }, _react.default.createElement(_reactNative.Image, {\n        style: _styles.default.backgroundImage,\n        source: _config.AppImages.homeNavigation,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }\n      })), _react.default.createElement(_reactNative.View, {\n        style: _styles.default.overlay,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 9\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        style: _styles.default.profileTextView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }\n      }, _react.default.createElement(_reactNative.Text, {\n        style: _styles.default.profileText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 15\n        }\n      }, \"My Events\")), _react.default.createElement(_reactNative.View, {\n        style: _styles.default.menuImageViewContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        style: _styles.default.menuImageView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 15\n        }\n      }, _react.default.createElement(_reactNative.Image, {\n        style: _styles.default.menuImage,\n        source: _config.AppImages.menu,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 17\n        }\n      }))))), _react.default.createElement(_reactNative.View, {\n        style: _styles.default.eventsView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 9\n        }\n      }, (getEventsLoading || deleteEventLoading) && _react.default.createElement(_Loading.default, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 56\n        }\n      }), !getEventsLoading && _react.default.createElement(_reactNative.FlatList, {\n        contentContainerStyle: _styles.default.eventsListContainer,\n        data: events.filter(function (e) {\n          var _this2$context, _this2$context$curren;\n\n          return e.userId == ((_this2$context = _this2.context) == null ? void 0 : (_this2$context$curren = _this2$context.currentUser) == null ? void 0 : _this2$context$curren.uid);\n        }),\n        keyExtractor: function keyExtractor(event) {\n          return event.id;\n        },\n        renderItem: function renderItem(_ref) {\n          var item = _ref.item,\n              index = _ref.index;\n          var event = item;\n          return _react.default.createElement(_reactNative.View, {\n            key: event.id,\n            style: _styles.default.eventView,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 19\n            }\n          }, _react.default.createElement(_reactNativeModal.default, {\n            isVisible: _this2.state.isModalVisible,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 21\n            }\n          }, _react.default.createElement(_reactNative.View, {\n            style: _styles.default.deleteModelView,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 23\n            }\n          }, _react.default.createElement(_reactNative.View, {\n            style: _styles.default.deleteModelTitleView,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 25\n            }\n          }, _react.default.createElement(_reactNative.Text, {\n            style: _styles.default.deleteModelTitleText,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 27\n            }\n          }, \"Delete Event\")), _react.default.createElement(_reactNative.View, {\n            style: _styles.default.deleteModelSubTitleView,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 25\n            }\n          }, _react.default.createElement(_reactNative.Text, {\n            style: _styles.default.deleteModelSubTitleText,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 27\n            }\n          }, \"Are you sure you \", '\\n', \" want to delete this event?\")), _react.default.createElement(_reactNative.View, {\n            style: _styles.default.deleteModelYesORNoView,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 25\n            }\n          }, _react.default.createElement(_reactNative.TouchableOpacity, {\n            onPress: _this2.modalYes,\n            style: _styles.default.deleteModelYesBtnView,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 27\n            }\n          }, _react.default.createElement(_reactNative.Text, {\n            style: _styles.default.deleteModelYesBtnText,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 29\n            }\n          }, \"Yes\")), _react.default.createElement(_reactNative.TouchableOpacity, {\n            onPress: _this2.modalNo,\n            style: _styles.default.deleteModelNoBtnView,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 27\n            }\n          }, _react.default.createElement(_reactNative.Text, {\n            style: _styles.default.deleteModelNoBtnText,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 29\n            }\n          }, \"No\"))))), _react.default.createElement(_reactNative.ImageBackground, {\n            style: _styles.default.backImage,\n            source: {\n              uri: event.coverPhoto\n            },\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 21\n            }\n          }, _react.default.createElement(_reactNative.View, {\n            style: _styles.default.imageHeader,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 23\n            }\n          }, _react.default.createElement(_reactNative.View, {\n            style: _styles.default.typeView,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 25\n            }\n          }, _react.default.createElement(_reactNative.Text, {\n            style: _styles.default.typeText,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 27\n            }\n          }, event.type)), _react.default.createElement(_reactNative.TouchableOpacity, {\n            onPress: function onPress() {\n              _this2.showModal(event.id);\n            },\n            style: _styles.default.deleteImageView,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 25\n            }\n          }, _react.default.createElement(_reactNative.Image, {\n            source: _config.AppImages.delete,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 27\n            }\n          }))), _react.default.createElement(_reactNative.View, {\n            style: _styles.default.dateTitleView,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 23\n            }\n          }, _react.default.createElement(_reactNative.View, {\n            style: _styles.default.dateView,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 25\n            }\n          }, console.log(event), _react.default.createElement(_reactNative.Text, {\n            style: _styles.default.dateText,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 27\n            }\n          }, _this2.formattedDate(event.date), \" | \", event.time)), _react.default.createElement(_reactNative.View, {\n            style: _styles.default.titleView,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 25\n            }\n          }, _react.default.createElement(_reactNative.Text, {\n            style: _styles.default.titleText,\n            adjustsFontSizeToFit: true,\n            numberOfLines: 2,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 27\n            }\n          }, event.title)))));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }\n      })));\n    }\n  }]);\n  return MyEvents;\n}(_react.default.Component);\n\nMyEvents.contextType = _auth.AuthContext;\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getEvents: function getEvents() {\n      return dispatch(_event.eventOperations.getEvents());\n    },\n    deleteEvent: function deleteEvent(id) {\n      return dispatch(_event.eventOperations.deleteEvent(id));\n    }\n  };\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    events: state.event.events,\n    getEventsError: state.event.getEventsError,\n    getEventsLoading: state.event.getEventsLoading,\n    deleteEventError: state.event.deleteEventError,\n    deleteEventLoading: state.event.deleteEventLoading\n  };\n};\n\nvar _default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(MyEvents);\n\nexports.default = _default;","map":{"version":3,"sources":["C:/Program Files/nodejs/ComeClosely/app/views/screens/MyEvents/index.tsx"],"names":["INITIAL_STATE","isModalVisible","selectedEventId","undefined","MyEvents","props","showModal","id","setState","modalYes","state","deleteEvent","modalNo","date","console","log","substring","lastIndexOf","getEvents","events","getEventsLoading","deleteEventLoading","styles","mainView","backImage","backgroundImage","AppImages","homeNavigation","overlay","profileTextView","profileText","menuImageViewContainer","menuImageView","menuImage","menu","eventsView","eventsListContainer","filter","e","userId","context","currentUser","uid","event","item","index","eventView","deleteModelView","deleteModelTitleView","deleteModelTitleText","deleteModelSubTitleView","deleteModelSubTitleText","deleteModelYesORNoView","deleteModelYesBtnView","deleteModelYesBtnText","deleteModelNoBtnView","deleteModelNoBtnText","uri","coverPhoto","imageHeader","typeView","typeText","type","deleteImageView","delete","dateTitleView","dateView","dateText","formattedDate","time","titleView","titleText","title","React","Component","contextType","AuthContext","mapDispatchToProps","dispatch","eventOperations","mapStateToProps","getEventsError","deleteEventError"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {\r\n  View,\r\n  Text,\r\n  FlatList,\r\n  ImageBackground,\r\n  ScrollView,\r\n  Image,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\n\r\nimport { connect } from 'react-redux';\r\nimport Modal from 'react-native-modal';\r\n\r\nimport { AppImages } from '../../config';\r\nimport styles from './styles';\r\nimport Loading from '../../components/Loading';\r\nimport { EventI } from '../../../state/types';\r\nimport { eventOperations } from '../../../state/ducks/event';\r\nimport { AuthContext } from '../../../providers/auth';\r\n\r\ninterface ComponentProps {\r\n  navigation: any;\r\n  events: Array<EventI>;\r\n  getEventsError: string;\r\n  getEventsLoading: boolean;\r\n  deleteEventError: string;\r\n  deleteEventLoading: boolean;\r\n  getEvents(): Array<EventI>;\r\n  deleteEvent(id: string): void;\r\n}\r\ninterface DataSourceI {\r\n  id: number;\r\n  type: string;\r\n  title: string;\r\n  time: string;\r\n}\r\ninterface ComponentState {\r\n  isModalVisible: boolean;\r\n  selectedEventId: string | undefined;\r\n}\r\nconst INITIAL_STATE: ComponentState = {\r\n  isModalVisible: false,\r\n  selectedEventId: undefined,\r\n};\r\n\r\nclass MyEvents extends React.Component<ComponentProps, ComponentState> {\r\n  constructor(props: any) {\r\n    super(props);\r\n    this.state = { ...INITIAL_STATE };\r\n  }\r\n\r\n  showModal = (id: string | undefined) => {\r\n    this.setState({\r\n      selectedEventId: id,\r\n      isModalVisible: true,\r\n    });\r\n  };\r\n\r\n  modalYes = () => {\r\n    this.setState({\r\n      isModalVisible: false,\r\n    });\r\n    if (this.state.selectedEventId) {\r\n      this.props.deleteEvent(this.state.selectedEventId);\r\n    }\r\n  };\r\n\r\n  modalNo = () => {\r\n    this.setState({\r\n      isModalVisible: false,\r\n    });\r\n  };\r\n\r\n  formattedDate(date: string): string {\r\n    console.log('date:', date)\r\n    return date?.substring(0, date.lastIndexOf(' ') + 1);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.getEvents();\r\n  }\r\n\r\n  render() {\r\n    const { events, getEventsLoading, deleteEventLoading } = this.props;\r\n    console.log(events)\r\n    return (\r\n      <View style={styles.mainView}>\r\n        {/* <ScrollView> */}\r\n        <View style={styles.backImage}>\r\n          <Image\r\n            style={styles.backgroundImage}\r\n            source={AppImages.homeNavigation}\r\n          />\r\n        </View>\r\n\r\n        <View style={styles.overlay}>\r\n          <View style={styles.profileTextView}>\r\n            <View>\r\n              <Text style={styles.profileText}>My Events</Text>\r\n            </View>\r\n            <View style={styles.menuImageViewContainer}>\r\n              <View style={styles.menuImageView}>\r\n                <Image style={styles.menuImage} source={AppImages.menu} />\r\n              </View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.eventsView}>\r\n          {/* <ScrollView> */}\r\n          {(getEventsLoading || deleteEventLoading) && <Loading />}\r\n          {!getEventsLoading && (\r\n            <FlatList\r\n              contentContainerStyle={styles.eventsListContainer}\r\n              data={events.filter(e => (e.userId == this.context?.currentUser?.uid))}\r\n              keyExtractor={(event: EventI) => event.id}\r\n              renderItem={({ item, index }) => {\r\n                const event = item;\r\n                return (\r\n                  <View key={event.id} style={styles.eventView}>\r\n                    <Modal isVisible={this.state.isModalVisible}>\r\n                      <View style={styles.deleteModelView}>\r\n                        <View style={styles.deleteModelTitleView}>\r\n                          <Text style={styles.deleteModelTitleText}>\r\n                            Delete Event\r\n                            </Text>\r\n                        </View>\r\n\r\n                        <View style={styles.deleteModelSubTitleView}>\r\n                          <Text style={styles.deleteModelSubTitleText}>\r\n                            Are you sure you {'\\n'} want to delete this event?\r\n                            </Text>\r\n                        </View>\r\n\r\n                        <View style={styles.deleteModelYesORNoView}>\r\n                          <TouchableOpacity\r\n                            onPress={this.modalYes}\r\n                            style={styles.deleteModelYesBtnView}>\r\n                            <Text style={styles.deleteModelYesBtnText}>\r\n                              Yes\r\n                              </Text>\r\n                          </TouchableOpacity>\r\n                          <TouchableOpacity\r\n                            onPress={this.modalNo}\r\n                            style={styles.deleteModelNoBtnView}>\r\n                            <Text style={styles.deleteModelNoBtnText}>\r\n                              No\r\n                              </Text>\r\n                          </TouchableOpacity>\r\n                        </View>\r\n                      </View>\r\n                    </Modal>\r\n\r\n                    <ImageBackground\r\n                      style={styles.backImage}\r\n                      source={{ uri: event.coverPhoto }}>\r\n                      <View style={styles.imageHeader}>\r\n                        <View style={styles.typeView}>\r\n                          <Text style={styles.typeText}>{event.type}</Text>\r\n                        </View>\r\n                        <TouchableOpacity\r\n                          onPress={() => {\r\n                            this.showModal(event.id);\r\n                          }}\r\n                          style={styles.deleteImageView}>\r\n                          <Image source={AppImages.delete} />\r\n                        </TouchableOpacity>\r\n                      </View>\r\n                      <View style={styles.dateTitleView}>\r\n                        <View style={styles.dateView}>\r\n                          {console.log(event)}\r\n                          <Text style={styles.dateText}>\r\n                            {this.formattedDate(event.date)} | {event.time}\r\n                          </Text>\r\n                        </View>\r\n                        <View style={styles.titleView}>\r\n                          <Text\r\n                            style={styles.titleText}\r\n                            adjustsFontSizeToFit\r\n                            numberOfLines={2}>\r\n                            {event.title}\r\n                          </Text>\r\n                        </View>\r\n                      </View>\r\n                    </ImageBackground>\r\n                  </View>\r\n                )\r\n              }}\r\n            />\r\n          )}\r\n          {/* </ScrollView> */}\r\n        </View>\r\n        {/* </ScrollView> */}\r\n      </View>\r\n    );\r\n  }\r\n}\r\nMyEvents.contextType = AuthContext;\r\n\r\n//export default MyEvents;\r\n\r\nconst mapDispatchToProps = (dispatch: Function) => {\r\n  return {\r\n    getEvents: () => dispatch(eventOperations.getEvents()),\r\n    deleteEvent: (id: string) => dispatch(eventOperations.deleteEvent(id)),\r\n  };\r\n};\r\n\r\nconst mapStateToProps = (state: any) => {\r\n  return {\r\n    events: state.event.events,\r\n    getEventsError: state.event.getEventsError,\r\n    getEventsLoading: state.event.getEventsLoading,\r\n    deleteEventError: state.event.deleteEventError,\r\n    deleteEventLoading: state.event.deleteEventLoading,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MyEvents);\r\n"]},"metadata":{},"sourceType":"script"}
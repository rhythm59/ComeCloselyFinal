{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _jsxFileName = \"C:\\\\Program Files\\\\nodejs\\\\ComeClosely\\\\node_modules\\\\react-native-3dcube-navigation\\\\src\\\\Horizontal.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar _Dimensions$get = _reactNative.Dimensions.get(\"window\"),\n    width = _Dimensions$get.width,\n    height = _Dimensions$get.height;\n\nvar PESPECTIVE = _reactNative.Platform.OS === \"ios\" ? 2.38 : 1.7;\nvar TR_POSITION = _reactNative.Platform.OS === \"ios\" ? 2 : 1.5;\n\nvar CubeNavigationHorizontal = function (_React$Component) {\n  (0, _inherits2.default)(CubeNavigationHorizontal, _React$Component);\n\n  var _super = _createSuper(CubeNavigationHorizontal);\n\n  function CubeNavigationHorizontal(_props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, CubeNavigationHorizontal);\n    _this = _super.call(this, _props);\n\n    _this._getTransformsFor = function (i) {\n      var scrollX = _this._animatedValue.x;\n      var pageX = -width * i;\n      var translateX = scrollX.interpolate({\n        inputRange: [pageX - width, pageX, pageX + width],\n        outputRange: [(-width - 1) / TR_POSITION, 0, (width + 1) / TR_POSITION],\n        extrapolate: \"clamp\"\n      });\n      var rotateY = scrollX.interpolate({\n        inputRange: [pageX - width, pageX, pageX + width],\n        outputRange: [\"-60deg\", \"0deg\", \"60deg\"],\n        extrapolate: \"clamp\"\n      });\n      var translateXAfterRotate = scrollX.interpolate({\n        inputRange: [pageX - width, pageX, pageX + width],\n        inputRange: [pageX - width, pageX - width + 0.1, pageX, pageX + width - 0.1, pageX + width],\n        outputRange: [-width - 1, (-width - 1) / PESPECTIVE, 0, (width + 1) / PESPECTIVE, +width + 1],\n        extrapolate: \"clamp\"\n      });\n      var opacity = scrollX.interpolate({\n        inputRange: [pageX - width, pageX - width + 10, pageX, pageX + width - 250, pageX + width],\n        outputRange: [0, 0.6, 1, 0.6, 0],\n        extrapolate: \"clamp\"\n      });\n      return {\n        transform: [{\n          perspective: width\n        }, {\n          translateX: translateX\n        }, {\n          rotateY: rotateY\n        }, {\n          translateX: translateXAfterRotate\n        }],\n        opacity: opacity\n      };\n    };\n\n    _this._renderChild = function (child, i) {\n      var expandStyle = _this.props.expandView ? {\n        paddingTop: 100,\n        paddingBottom: 100,\n        height: height + 200\n      } : {\n        width: width,\n        height: height\n      };\n      var style = [child.props.style, expandStyle];\n      var props = {\n        i: i,\n        style: style\n      };\n\n      var element = _react.default.cloneElement(child, props);\n\n      return _react.default.createElement(_reactNative.Animated.View, {\n        style: [_reactNative.StyleSheet.absoluteFill, {\n          backgroundColor: \"transparent\"\n        }, _this._getTransformsFor(i, false)],\n        key: \"child- \" + i,\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 7\n        }\n      }, element);\n    };\n\n    _this._closest = function (num) {\n      var array = _this.pages;\n      var i = 0;\n      var minDiff = 1000;\n      var ans;\n\n      for (i in array) {\n        var m = Math.abs(num - array[i]);\n\n        if (m < minDiff) {\n          minDiff = m;\n          ans = array[i];\n        }\n      }\n\n      return ans;\n    };\n\n    _this.pages = _this.props.children.map(function (child, index) {\n      return width * -index;\n    });\n    _this.state = {\n      scrollLockPage: _this.pages[_this.props.scrollLockPage]\n    };\n    return _this;\n  }\n\n  (0, _createClass2.default)(CubeNavigationHorizontal, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      this._animatedValue = new _reactNative.Animated.ValueXY();\n\n      this._animatedValue.setValue({\n        x: 0,\n        y: 0\n      });\n\n      this._value = {\n        x: 0,\n        y: 0\n      };\n\n      this._animatedValue.addListener(function (value) {\n        _this2._value = value;\n      });\n\n      this._panResponder = _reactNative.PanResponder.create({\n        onMoveShouldSetResponderCapture: function onMoveShouldSetResponderCapture() {\n          return true;\n        },\n        onMoveShouldSetResponderCapture: function onMoveShouldSetResponderCapture() {\n          return Math.abs(gestureState.dx) > 60;\n        },\n        onMoveShouldSetPanResponderCapture: function onMoveShouldSetPanResponderCapture(evt, gestureState) {\n          return Math.abs(gestureState.dx) > 60;\n        },\n        onPanResponderGrant: function onPanResponderGrant(e, gestureState) {\n          _this2._animatedValue.stopAnimation();\n\n          _this2._animatedValue.setOffset({\n            x: _this2._value.x,\n            y: _this2._value.y\n          });\n        },\n        onPanResponderMove: function onPanResponderMove(e, gestureState) {\n          _reactNative.Animated.event([null, {\n            dx: _this2._animatedValue.x\n          }])(e, gestureState);\n\n          _this2.lockLast = _this2.state.scrollLockPage != undefined ? -_this2.state.scrollLockPage : _this2.pages[_this2.pages.length - 1];\n\n          if (_this2._value.x > _this2.pages[0] || _this2._value.x < _this2.lockLast) {\n            _this2._animatedValue.setValue({\n              x: 0,\n              y: 0\n            });\n          }\n        },\n        onPanResponderRelease: function onPanResponderRelease(e, gestureState) {\n          var mod = gestureState.dx > 0 ? 100 : -100;\n\n          var goTo = _this2._closest(_this2._value.x + mod);\n\n          if (_this2.lockLast > goTo) return;\n\n          _this2._animatedValue.flattenOffset({\n            x: _this2._value.x,\n            y: _this2._value.y\n          });\n\n          _reactNative.Animated.spring(_this2._animatedValue, {\n            toValue: {\n              x: goTo,\n              y: 0\n            },\n            friction: 3,\n            tension: 0.6\n          }).start();\n\n          setTimeout(function () {\n            if (_this2.props.callBackAfterSwipe) _this2.props.callBackAfterSwipe(goTo);\n          }, 500);\n        }\n      });\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(props) {\n      this.setState({\n        scrollLockPage: props.scrollLockPage ? this.pages[props.scrollLockPage] : undefined\n      });\n    }\n  }, {\n    key: \"scrollTo\",\n    value: function scrollTo(page, animated) {\n      animated = animated == undefined ? true : animated;\n\n      if (animated) {\n        _reactNative.Animated.spring(this._animatedValue, {\n          toValue: {\n            x: this.pages[page],\n            y: 0\n          },\n          friction: 4,\n          tension: 0.8\n        }).start();\n      } else {\n        this._animatedValue.setValue({\n          x: this.pages[page],\n          y: 0\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var expandStyle = this.props.expandView ? {\n        top: -100,\n        left: 0,\n        width: width,\n        height: height + 200\n      } : {\n        width: width,\n        height: height\n      };\n      return _react.default.createElement(_reactNative.Animated.View, (0, _extends2.default)({\n        style: [{\n          position: \"absolute\"\n        }],\n        ref: function ref(view) {\n          _this3._scrollView = view;\n        }\n      }, this._panResponder.panHandlers, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 7\n        }\n      }), _react.default.createElement(_reactNative.Animated.View, {\n        style: [{\n          backgroundColor: \"#000\",\n          position: \"absolute\",\n          width: width,\n          height: height\n        }, expandStyle],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 9\n        }\n      }, this.props.children.map(this._renderChild)));\n    }\n  }]);\n  return CubeNavigationHorizontal;\n}(_react.default.Component);\n\nexports.default = CubeNavigationHorizontal;\nCubeNavigationHorizontal.propTypes = {\n  callBackAfterSwipe: _propTypes.default.func,\n  scrollLockPage: _propTypes.default.number,\n  expandView: _propTypes.default.bool\n};\nCubeNavigationHorizontal.defaultProps = {\n  expandView: false\n};","map":{"version":3,"sources":["C:/Program Files/nodejs/ComeClosely/node_modules/react-native-3dcube-navigation/src/Horizontal.js"],"names":["Dimensions","get","width","height","PESPECTIVE","Platform","OS","TR_POSITION","CubeNavigationHorizontal","props","_getTransformsFor","i","scrollX","_animatedValue","x","pageX","translateX","interpolate","inputRange","outputRange","extrapolate","rotateY","translateXAfterRotate","opacity","transform","perspective","_renderChild","child","expandStyle","expandView","paddingTop","paddingBottom","style","element","React","cloneElement","StyleSheet","absoluteFill","backgroundColor","_closest","num","array","pages","minDiff","ans","m","Math","abs","children","map","index","state","scrollLockPage","Animated","ValueXY","setValue","y","_value","addListener","value","_panResponder","PanResponder","create","onMoveShouldSetResponderCapture","gestureState","dx","onMoveShouldSetPanResponderCapture","evt","onPanResponderGrant","e","stopAnimation","setOffset","onPanResponderMove","event","lockLast","undefined","length","onPanResponderRelease","mod","goTo","flattenOffset","spring","toValue","friction","tension","start","setTimeout","callBackAfterSwipe","setState","page","animated","top","left","position","view","_scrollView","panHandlers","Component","propTypes","PropTypes","func","number","bool","defaultProps"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport {\n  PanResponder,\n  Animated,\n  Dimensions,\n  StyleSheet,\n  Image,\n  View,\n  Text,\n  Platform\n} from \"react-native\";\nconst { width, height } = Dimensions.get(\"window\");\n\nconst PESPECTIVE = Platform.OS === \"ios\" ? 2.38 : 1.7;\nconst TR_POSITION = Platform.OS === \"ios\" ? 2 : 1.5;\n\nexport default class CubeNavigationHorizontal extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.pages = this.props.children.map((child, index) => width * -index);\n\n    this.state = {\n      scrollLockPage: this.pages[this.props.scrollLockPage]\n    };\n  }\n\n  componentWillMount() {\n    this._animatedValue = new Animated.ValueXY();\n    this._animatedValue.setValue({ x: 0, y: 0 });\n    this._value = { x: 0, y: 0 };\n\n    this._animatedValue.addListener(value => {\n      this._value = value;\n    });\n\n    this._panResponder = PanResponder.create({\n      onMoveShouldSetResponderCapture: () => true,\n      onMoveShouldSetResponderCapture: () => Math.abs(gestureState.dx) > 60,\n      onMoveShouldSetPanResponderCapture: (evt, gestureState) =>\n        Math.abs(gestureState.dx) > 60,\n      onPanResponderGrant: (e, gestureState) => {\n        this._animatedValue.stopAnimation();\n        this._animatedValue.setOffset({ x: this._value.x, y: this._value.y });\n      },\n      onPanResponderMove: (e, gestureState) => {\n        Animated.event([null, { dx: this._animatedValue.x }])(e, gestureState);\n\n        // Avoid last movement\n        this.lockLast =\n          this.state.scrollLockPage != undefined\n            ? -this.state.scrollLockPage\n            : this.pages[this.pages.length - 1];\n        if (this._value.x > this.pages[0] || this._value.x < this.lockLast) {\n          this._animatedValue.setValue({ x: 0, y: 0 });\n        }\n      },\n      onPanResponderRelease: (e, gestureState) => {\n        let mod = gestureState.dx > 0 ? 100 : -100;\n\n        let goTo = this._closest(this._value.x + mod);\n        if (this.lockLast > goTo) return; //remove in the future\n        this._animatedValue.flattenOffset({\n          x: this._value.x,\n          y: this._value.y\n        });\n        Animated.spring(this._animatedValue, {\n          toValue: { x: goTo, y: 0 },\n          friction: 3,\n          tension: 0.6\n        }).start();\n        setTimeout(() => {\n          if (this.props.callBackAfterSwipe)\n            this.props.callBackAfterSwipe(goTo);\n        }, 500);\n      }\n    });\n  }\n\n  componentWillReceiveProps(props) {\n    this.setState({\n      scrollLockPage: props.scrollLockPage\n        ? this.pages[props.scrollLockPage]\n        : undefined\n    });\n  }\n\n  /*\n    @page: index\n  */\n  scrollTo(page, animated) {\n    animated = animated == undefined ? true : animated;\n\n    if (animated) {\n      Animated.spring(this._animatedValue, {\n        toValue: { x: this.pages[page], y: 0 },\n        friction: 4,\n        tension: 0.8\n      }).start();\n    } else {\n      this._animatedValue.setValue({ x: this.pages[page], y: 0 });\n    }\n  }\n\n  /*\n  Private methods\n  */\n\n  _getTransformsFor = i => {\n    let scrollX = this._animatedValue.x;\n    let pageX = -width * i;\n\n    let translateX = scrollX.interpolate({\n      inputRange: [pageX - width, pageX, pageX + width],\n      outputRange: [(-width - 1) / TR_POSITION, 0, (width + 1) / TR_POSITION],\n      extrapolate: \"clamp\"\n    });\n\n    let rotateY = scrollX.interpolate({\n      inputRange: [pageX - width, pageX, pageX + width],\n      outputRange: [\"-60deg\", \"0deg\", \"60deg\"],\n      extrapolate: \"clamp\"\n    });\n\n    let translateXAfterRotate = scrollX.interpolate({\n      inputRange: [pageX - width, pageX, pageX + width],\n      inputRange: [\n        pageX - width,\n        pageX - width + 0.1,\n        pageX,\n        pageX + width - 0.1,\n        pageX + width\n      ],\n      outputRange: [\n        -width - 1,\n        (-width - 1) / PESPECTIVE,\n        0,\n        (width + 1) / PESPECTIVE,\n        +width + 1\n      ],\n      extrapolate: \"clamp\"\n    });\n\n    let opacity = scrollX.interpolate({\n      inputRange: [\n        pageX - width,\n        pageX - width + 10,\n        pageX,\n        pageX + width - 250,\n        pageX + width\n      ],\n      outputRange: [0, 0.6, 1, 0.6, 0],\n      extrapolate: \"clamp\"\n    });\n\n    return {\n      transform: [\n        { perspective: width },\n        { translateX },\n        { rotateY: rotateY },\n        { translateX: translateXAfterRotate }\n      ],\n      opacity: opacity\n    };\n  };\n\n  _renderChild = (child, i) => {\n    let expandStyle = this.props.expandView\n      ? { paddingTop: 100, paddingBottom: 100, height: height + 200 }\n      : { width, height };\n    let style = [child.props.style, expandStyle];\n    let props = {\n      i,\n      style\n    };\n    let element = React.cloneElement(child, props);\n\n    return (\n      <Animated.View\n        style={[\n          StyleSheet.absoluteFill,\n          { backgroundColor: \"transparent\" },\n          this._getTransformsFor(i, false)\n        ]}\n        key={`child- ${i}`}\n      >\n        {element}\n      </Animated.View>\n    );\n  };\n\n  _closest = num => {\n    let array = this.pages;\n\n    let i = 0;\n    let minDiff = 1000;\n    let ans;\n    for (i in array) {\n      let m = Math.abs(num - array[i]);\n      if (m < minDiff) {\n        minDiff = m;\n        ans = array[i];\n      }\n    }\n    return ans;\n  };\n\n  render() {\n    let expandStyle = this.props.expandView\n      ? { top: -100, left: 0, width, height: height + 200 }\n      : { width, height };\n\n    return (\n      <Animated.View\n        style={[{ position: \"absolute\" }]}\n        ref={view => {\n          this._scrollView = view;\n        }}\n        {...this._panResponder.panHandlers}\n      >\n        <Animated.View\n          style={[\n            { backgroundColor: \"#000\", position: \"absolute\", width, height },\n            expandStyle\n          ]}\n        >\n          {this.props.children.map(this._renderChild)}\n        </Animated.View>\n      </Animated.View>\n    );\n  }\n}\n\nCubeNavigationHorizontal.propTypes = {\n  callBackAfterSwipe: PropTypes.func,\n  scrollLockPage: PropTypes.number,\n  expandView: PropTypes.bool\n};\n\nCubeNavigationHorizontal.defaultProps = {\n  expandView: false\n};\n"]},"metadata":{},"sourceType":"script"}
{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getUser = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _firestore = _interopRequireDefault(require(\"@react-native-firebase/firestore\"));\n\nvar getUser = function getUser(userKey) {\n  var roomRef, doc;\n  return _regenerator.default.async(function getUser$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          roomRef = (0, _firestore.default)().collection('chatrooms').doc(userKey);\n          _context.next = 4;\n          return _regenerator.default.awrap(roomRef.get());\n\n        case 4:\n          doc = _context.sent;\n\n          if (doc.exists) {\n            _context.next = 10;\n            break;\n          }\n\n          console.log('No such document!');\n          return _context.abrupt(\"return\", false);\n\n        case 10:\n          return _context.abrupt(\"return\", (0, _extends2.default)({}, doc.data(), {\n            id: doc.id\n          }));\n\n        case 11:\n          _context.next = 17;\n          break;\n\n        case 13:\n          _context.prev = 13;\n          _context.t0 = _context[\"catch\"](0);\n          console.log(_context.t0);\n          return _context.abrupt(\"return\", false);\n\n        case 17:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[0, 13]], Promise);\n};\n\nexports.getUser = getUser;","map":{"version":3,"sources":["C:/Program Files/nodejs/ComeClosely/app/services/users.ts"],"names":["getUser","userKey","roomRef","collection","doc","get","exists","console","log","data","id"],"mappings":";;;;;;;;;;;AAAA;;AAMA,IAAMA,OAAO,GAAG,SAAVA,OAAU,CAAOC,OAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEFC,UAAAA,OAFE,GAEQ,0BAAYC,UAAZ,CAAuB,WAAvB,EAAoCC,GAApC,CAAwCH,OAAxC,CAFR;AAAA;AAAA,4CAGUC,OAAO,CAACG,GAAR,EAHV;;AAAA;AAGFD,UAAAA,GAHE;;AAAA,cAIHA,GAAG,CAACE,MAJD;AAAA;AAAA;AAAA;;AAKJC,UAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AALI,2CAMG,KANH;;AAAA;AAAA,sEAQQJ,GAAG,CAACK,IAAJ,EARR;AAQoBC,YAAAA,EAAE,EAAEN,GAAG,CAACM;AAR5B;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAYRH,UAAAA,OAAO,CAACC,GAAR;AAZQ,2CAaD,KAbC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAhB","sourcesContent":["import firestore from '@react-native-firebase/firestore';\r\nimport { generateNewChatRoomKey } from '../utils';\r\n\r\nexport {\r\n    getUser\r\n}\r\nconst getUser = async (userKey: string) => {\r\n    try {\r\n        const roomRef = firestore().collection('chatrooms').doc(userKey);\r\n        const doc = await roomRef.get();\r\n        if (!doc.exists) {\r\n            console.log('No such document!');\r\n            return false\r\n        } else {\r\n            return { ...doc.data(), id: doc.id }\r\n        }\r\n\r\n    } catch (error) {\r\n        console.log(error)\r\n        return false\r\n    }\r\n} "]},"metadata":{},"sourceType":"script"}
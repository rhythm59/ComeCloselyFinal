{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.AuthContext = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _auth = _interopRequireDefault(require(\"@react-native-firebase/auth\"));\n\nvar _jsxFileName = \"C:\\\\Program Files\\\\nodejs\\\\ComeClosely\\\\app\\\\providers\\\\auth.tsx\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar INITIAL_STATE = {\n  currentUser: null,\n  isLoading: true\n};\nvar AuthContext = (0, _react.createContext)(INITIAL_STATE);\nexports.AuthContext = AuthContext;\n\nvar AuthProvider = function (_Component) {\n  (0, _inherits2.default)(AuthProvider, _Component);\n\n  var _super = _createSuper(AuthProvider);\n\n  function AuthProvider() {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, AuthProvider);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = (0, _extends2.default)({}, INITIAL_STATE);\n\n    _this.onAuthStateChanged = function (user) {\n      console.log(user);\n\n      _this.setState({\n        currentUser: user\n      });\n\n      _this.setState({\n        isLoading: false\n      });\n    };\n\n    _this.componentDidMount = function () {\n      (0, _auth.default)().onAuthStateChanged(_this.onAuthStateChanged);\n    };\n\n    return _this;\n  }\n\n  (0, _createClass2.default)(AuthProvider, [{\n    key: \"render\",\n    value: function render() {\n      return _react.default.createElement(AuthContext.Provider, {\n        value: this.state,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 7\n        }\n      }, this.props.children);\n    }\n  }]);\n  return AuthProvider;\n}(_react.Component);\n\nvar _default = AuthProvider;\nexports.default = _default;","map":{"version":3,"sources":["C:/Program Files/nodejs/ComeClosely/app/providers/auth.tsx"],"names":["INITIAL_STATE","currentUser","isLoading","AuthContext","AuthProvider","state","onAuthStateChanged","user","console","log","setState","componentDidMount","props","children","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;;;;;;;AAMA,IAAMA,aAA2B,GAAG;AAClCC,EAAAA,WAAW,EAAE,IADqB;AAElCC,EAAAA,SAAS,EAAE;AAFuB,CAApC;AAKO,IAAMC,WAAW,GAAG,0BAAcH,aAAd,CAApB;;;IACDI,Y;;;;;;;;;;;;;;;UACJC,K,8BAAYL,a;;UAEZM,kB,GAAqB,UAACC,IAAD,EAAyC;AAC5DC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;;AACA,YAAKG,QAAL,CAAc;AAACT,QAAAA,WAAW,EAAEM;AAAd,OAAd;;AACA,YAAKG,QAAL,CAAc;AAACR,QAAAA,SAAS,EAAE;AAAZ,OAAd;AACD,K;;UAEDS,iB,GAAoB,YAAM;AACxB,2BAAOL,kBAAP,CAA0B,MAAKA,kBAA/B;AACD,K;;;;;;;6BAEQ;AACP,aACE,6BAAC,WAAD,CAAa,QAAb;AAAsB,QAAA,KAAK,EAAE,KAAKD,KAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKO,KAAL,CAAWC,QADd,CADF;AAKD;;;EAnBwBC,gB;;eAqBZV,Y","sourcesContent":["import React, {Component, createContext} from 'react';\nimport auth, {FirebaseAuthTypes} from '@react-native-firebase/auth';\n\ninterface AuthContextI {\n  currentUser: FirebaseAuthTypes.User | null;\n  isLoading: boolean;\n}\nconst INITIAL_STATE: AuthContextI = {\n  currentUser: null,\n  isLoading: true,\n};\n\nexport const AuthContext = createContext(INITIAL_STATE);\nclass AuthProvider extends Component<{}, AuthContextI> {\n  state = {...INITIAL_STATE};\n\n  onAuthStateChanged = (user: FirebaseAuthTypes.User | null) => {\n    console.log(user);\n    this.setState({currentUser: user});\n    this.setState({isLoading: false});\n  };\n\n  componentDidMount = () => {\n    auth().onAuthStateChanged(this.onAuthStateChanged);\n  };\n\n  render() {\n    return (\n      <AuthContext.Provider value={this.state}>\n        {this.props.children}\n      </AuthContext.Provider>\n    );\n  }\n}\nexport default AuthProvider;\n"]},"metadata":{},"sourceType":"script"}
{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _extends3 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _reactNativeBarcodeBuilder = _interopRequireDefault(require(\"react-native-barcode-builder\"));\n\nvar _reactNativeGestureHandler = require(\"react-native-gesture-handler\");\n\nvar _config = require(\"../../config\");\n\nvar _styles = _interopRequireDefault(require(\"./styles\"));\n\nvar _reactRedux = require(\"react-redux\");\n\nvar _auth = _interopRequireWildcard(require(\"../../../../app/providers/auth\"));\n\nvar _firestore = _interopRequireDefault(require(\"@react-native-firebase/firestore\"));\n\nvar _jsxFileName = \"C:\\\\Program Files\\\\nodejs\\\\ComeClosely\\\\app\\\\views\\\\screens\\\\TicketBuy\\\\index.tsx\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar TicketBuy = function (_React$Component) {\n  (0, _inherits2.default)(TicketBuy, _React$Component);\n\n  var _super = _createSuper(TicketBuy);\n\n  function TicketBuy() {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, TicketBuy);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      isLoading: false,\n      eventData: {},\n      ticketData: {},\n      ticketId: _this.createTicketId(),\n      creditCard: {\n        name: '',\n        number: '',\n        cvs: '',\n        expiry: '',\n        save: false\n      }\n    };\n\n    _this.getCreditCardToken = function (creditCardData) {\n      var card = {\n        'owner[name]': creditCardData.name,\n        'card[number]': creditCardData.number.replace(/ /g, ''),\n        'card[exp_month]': creditCardData.expMonth,\n        'card[exp_year]': creditCardData.expYear,\n        'card[cvc]': creditCardData.cvs\n      };\n      return fetch('https://api.stripe.com/v1/sources', {\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/x-www-form-urlencoded',\n          Authorization: \"Bearer pk_test_51H2Nb4KydQMjEXTR4eX9PRRN6W1WZNMfjPwWLJdc2JQutGTpQdHgpKs4GFmGfyMJ0IRvxlkt7pJ360xIwmp6MNNp00xGFzUayR\"\n        },\n        method: 'post',\n        body: 'type=card&' + Object.keys(card).map(function (key) {\n          return key + '=' + card[key];\n        }).join('&')\n      }).then(function (response) {\n        return response.json();\n      });\n    };\n\n    _this.handleSubmit = function _callee2() {\n      var _this$state, eventData, ticketData, ticketId, creditCard, expMonth, expYear, token;\n\n      return _regenerator.default.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n\n              _this.setState({\n                isLoading: true\n              });\n\n              _this$state = _this.state, eventData = _this$state.eventData, ticketData = _this$state.ticketData, ticketId = _this$state.ticketId, creditCard = _this$state.creditCard;\n              expMonth = creditCard.expiry.split('/')[0] || 0;\n              expYear = creditCard.expiry.split('/')[1] || 0;\n              _context2.next = 7;\n              return _regenerator.default.awrap(_this.getCreditCardToken((0, _extends3.default)({}, creditCard, {\n                expMonth: expMonth,\n                expYear: expYear\n              })));\n\n            case 7:\n              token = _context2.sent;\n\n              if (typeof (token == null ? void 0 : token.error) == 'object') {\n                _this.setState({\n                  isLoading: false\n                });\n\n                _reactNative.Alert.alert(token.error.message);\n              } else {\n                fetch('https://us-central1-comeclosely-71c7c.cloudfunctions.net/chargeuser', {\n                  headers: {\n                    Accept: 'application/json',\n                    'Content-Type': 'application/json'\n                  },\n                  method: 'post',\n                  body: JSON.stringify({\n                    name: creditCard.name,\n                    email: _this.props.currentUser.email,\n                    token: token.id,\n                    amount: ticketData.totalAmount * 100,\n                    saveCard: creditCard.save\n                  })\n                }).then(function (res) {\n                  return res.json();\n                }).then(function _callee(resp) {\n                  var ticketRef, now, ticket, userRef;\n                  return _regenerator.default.async(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          console.log(resp);\n\n                          if (resp.error) {\n                            _this.setState({\n                              isLoading: false\n                            });\n\n                            _this.props.navigation.navigate('PaymentStatus', {\n                              isPaymentSuccess: false\n                            });\n                          } else {\n                            ticketRef = (0, _firestore.default)().collection('tickets').doc(ticketId);\n                            now = Date.now();\n                            ticket = (0, _extends3.default)({}, ticketData, {\n                              userId: _this.props.currentUser.uid,\n                              createdAt: now,\n                              updatedAt: now\n                            });\n                            ticketRef.set(ticket);\n\n                            if (creditCard.save) {\n                              userRef = (0, _firestore.default)().collection('users').doc(_this.props.currentUser.uid);\n                              userRef.update({\n                                customerId: resp.customerId\n                              });\n                            }\n\n                            _this.setState({\n                              isLoading: false\n                            });\n\n                            _this.props.navigation.navigate('PaymentStatus', {\n                              isPaymentSuccess: true\n                            });\n                          }\n\n                        case 2:\n                        case \"end\":\n                          return _context.stop();\n                      }\n                    }\n                  }, null, null, null, Promise);\n                }).catch(function (e) {\n                  console.log('error:', e.message);\n\n                  _this.setState({\n                    isLoading: false\n                  });\n\n                  _this.props.navigation.navigate('PaymentStatus', {\n                    isPaymentSuccess: false\n                  });\n                });\n              }\n\n              _context2.next = 14;\n              break;\n\n            case 11:\n              _context2.prev = 11;\n              _context2.t0 = _context2[\"catch\"](0);\n\n              _this.setState({\n                isLoading: false\n              });\n\n            case 14:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, [[0, 11]], Promise);\n    };\n\n    _this.handleCreditCardData = function (type) {\n      return function (value) {\n        var creditCard = _this.state.creditCard;\n\n        if (type === 'expiry') {\n          var expiry = _this.cc_expires_format(value);\n\n          _this.setState({\n            creditCard: (0, _extends3.default)({}, creditCard, {\n              expiry: expiry\n            })\n          });\n        } else {\n          _this.setState({\n            creditCard: (0, _extends3.default)({}, creditCard, (0, _defineProperty2.default)({}, type, value))\n          });\n        }\n      };\n    };\n\n    _this.renderSaveCardCheckBox = function () {\n      var imgSource = _this.state.creditCard.save ? _config.AppImages.checkboxSelected : _config.AppImages.checkboxUnselected;\n      return _react.default.createElement(_reactNative.Image, {\n        style: _styles.default.cardSaveCheckMarkImage,\n        source: imgSource,\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 12\n        }\n      });\n    };\n\n    return _this;\n  }\n\n  (0, _createClass2.default)(TicketBuy, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props$route$par = this.props.route.params,\n          eventData = _this$props$route$par.eventData,\n          ticketData = _this$props$route$par.ticketData;\n      this.setState({\n        eventData: eventData,\n        ticketData: ticketData\n      });\n    }\n  }, {\n    key: \"createTicketId\",\n    value: function createTicketId() {\n      var result = 'NDF';\n      var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\n      var charactersLength = characters.length;\n\n      for (var i = 0; i < 16; i++) {\n        result += characters.charAt(Math.floor(Math.random() * charactersLength));\n      }\n\n      return result;\n    }\n  }, {\n    key: \"cc_expires_format\",\n    value: function cc_expires_format(string) {\n      return string.replace(/[^0-9]/g, '').replace(/^([2-9])$/g, '0$1').replace(/^(1{1})([3-9]{1})$/g, '0$1/$2').replace(/^0{1,}/g, '0').replace(/^([0-1]{1}[0-9]{1})([0-9]{1,2}).*/g, '$1/$2');\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state2 = this.state,\n          eventData = _this$state2.eventData,\n          ticketData = _this$state2.ticketData,\n          ticketId = _this$state2.ticketId,\n          creditCard = _this$state2.creditCard,\n          isLoading = _this$state2.isLoading;\n      return _react.default.createElement(_reactNative.View, {\n        style: _styles.default.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 7\n        }\n      }, _react.default.createElement(_reactNative.StatusBar, {\n        translucent: true,\n        backgroundColor: \"transparent\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 9\n        }\n      }), _react.default.createElement(_reactNative.View, {\n        style: _styles.default.eventImageView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 9\n        }\n      }, _react.default.createElement(_reactNative.Image, {\n        source: _config.AppImages.loginImage,\n        style: _styles.default.eventImage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }\n      })), _react.default.createElement(_reactNative.View, {\n        style: _styles.default.headerMainView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 9\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        style: _styles.default.shareButtonView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }\n      }, _react.default.createElement(_reactNative.TouchableOpacity, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 13\n        }\n      }, _react.default.createElement(_reactNative.Image, {\n        resizeMode: 'contain',\n        source: _config.AppImages.share,\n        style: _styles.default.shareImg,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 15\n        }\n      }))), _react.default.createElement(_reactNative.View, {\n        style: _styles.default.closeButtonMainView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        style: _styles.default.closeButtonView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 13\n        }\n      }, _react.default.createElement(_reactNative.TouchableOpacity, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 15\n        }\n      }, _react.default.createElement(_reactNative.Image, {\n        resizeMode: 'contain',\n        source: _config.AppImages.close,\n        style: _styles.default.shareImg,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 17\n        }\n      }))), _react.default.createElement(_reactNative.View, {\n        style: _styles.default.heartButtonMainView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 13\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        style: _styles.default.heartButtonView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 15\n        }\n      }, _react.default.createElement(_reactNative.TouchableOpacity, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 17\n        }\n      }, _react.default.createElement(_reactNative.Image, {\n        resizeMode: 'contain',\n        source: _config.AppImages.filledHeart,\n        style: _styles.default.shareImg,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 19\n        }\n      })))))), _react.default.createElement(_reactNativeGestureHandler.ScrollView, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 9\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        style: _styles.default.ticketMainView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }\n      }, _react.default.createElement(_reactNative.Image, {\n        resizeMode: 'contain',\n        source: _config.AppImages.ticketImg,\n        style: _styles.default.ticketImg,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 13\n        }\n      }), _react.default.createElement(_reactNative.View, {\n        style: _styles.default.ticketTitleNTimeView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 13\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        style: _styles.default.ticketTimeView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 15\n        }\n      }, _react.default.createElement(_reactNative.Text, {\n        style: _styles.default.ticketTimeText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 17\n        }\n      }, eventData.date, \" | \", eventData.time)), _react.default.createElement(_reactNative.View, {\n        style: _styles.default.ticketTitleView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 15\n        }\n      }, _react.default.createElement(_reactNative.Text, {\n        numberOfLines: 3,\n        adjustsFontSizeToFit: true,\n        style: _styles.default.ticketTitleText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 17\n        }\n      }, eventData.title))), _react.default.createElement(_reactNative.View, {\n        style: _styles.default.ticketbottomView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 13\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        style: _styles.default.ticketTypeView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 15\n        }\n      }, _react.default.createElement(_reactNative.Text, {\n        numberOfLines: 1,\n        adjustsFontSizeToFit: true,\n        style: _styles.default.ticketTypeText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 17\n        }\n      }, eventData.type)), _react.default.createElement(_reactNative.View, {\n        style: _styles.default.ticketEntryNExtrasView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 15\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        style: _styles.default.ticketEntryMainView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 17\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        style: _styles.default.ticketEntryTitleView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 19\n        }\n      }, _react.default.createElement(_reactNative.Image, {\n        resizeMode: 'contain',\n        source: _config.AppImages.entry,\n        style: _styles.default.ticketEntryImage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 21\n        }\n      }), _react.default.createElement(_reactNative.Text, {\n        style: _styles.default.ticketEntryTitleText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 21\n        }\n      }, \"Entry\")), _react.default.createElement(_reactNative.View, {\n        style: _styles.default.ticketEntryAnsView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 19\n        }\n      }, _react.default.createElement(_reactNative.Text, {\n        numberOfLines: 1,\n        adjustsFontSizeToFit: true,\n        style: _styles.default.ticketEntryAnsText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 21\n        }\n      }, ticketData.totalPersons, \" Persons\"))), _react.default.createElement(_reactNative.View, {\n        style: _styles.default.ticketExtrasMainView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 17\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        style: _styles.default.ticketExtrasTitleView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 19\n        }\n      }, _react.default.createElement(_reactNative.Image, {\n        resizeMode: 'contain',\n        source: _config.AppImages.starpink,\n        style: _styles.default.ticketExtrasTitleImage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 21\n        }\n      }), _react.default.createElement(_reactNative.Text, {\n        style: _styles.default.ticketExtrasTitleText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 21\n        }\n      }, \"Extras\")), _react.default.createElement(_reactNative.View, {\n        style: _styles.default.ticketExtrasTitleAnsView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 19\n        }\n      }, _react.default.createElement(_reactNative.Text, {\n        numberOfLines: 1,\n        adjustsFontSizeToFit: true,\n        style: _styles.default.ticketExtrasTitleAnsText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 21\n        }\n      }, ticketData.extras)))), _react.default.createElement(_reactNative.View, {\n        style: _styles.default.ticketIdMainView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 15\n        }\n      }, _react.default.createElement(_reactNative.Text, {\n        style: _styles.default.ticketIdTitleText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 17\n        }\n      }, \"Ticket ID\"), _react.default.createElement(_reactNative.Text, {\n        style: _styles.default.ticketIdText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 17\n        }\n      }, ticketId), _react.default.createElement(_reactNative.View, {\n        style: _styles.default.ticketBarcodeView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 17\n        }\n      }, _react.default.createElement(_reactNativeBarcodeBuilder.default, {\n        value: ticketId,\n        format: \"CODE128\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 19\n        }\n      }))))), _react.default.createElement(_reactNative.View, {\n        style: _styles.default.creditCardMainView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        style: _styles.default.creditCardView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 13\n        }\n      }, _react.default.createElement(_reactNative.Image, {\n        source: _config.AppImages.card,\n        style: _styles.default.creditCardImage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 15\n        }\n      }), _react.default.createElement(_reactNative.Text, {\n        style: _styles.default.creditCardNumberText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 15\n        }\n      }, \"4000 2331 5875 1453\"), _react.default.createElement(_reactNative.View, {\n        style: _styles.default.creditCardBottomSubView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 15\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        style: _styles.default.creditCardNameView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 17\n        }\n      }, _react.default.createElement(_reactNative.Text, {\n        numberOfLines: 2,\n        adjustsFontSizeToFit: true,\n        style: _styles.default.creditCardNameText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 19\n        }\n      }, \"BIN BURHAN\")), _react.default.createElement(_reactNative.View, {\n        style: _styles.default.creditCardExDateNCvcView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 17\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        style: _styles.default.creditCardExDateView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 19\n        }\n      }, _react.default.createElement(_reactNative.Text, {\n        numberOfLines: 1,\n        adjustsFontSizeToFit: true,\n        style: _styles.default.creditCardExDateText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 21\n        }\n      }, \"EX Date : 02/22\")), _react.default.createElement(_reactNative.View, {\n        style: _styles.default.creditCardCvcView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 19\n        }\n      }, _react.default.createElement(_reactNative.Text, {\n        numberOfLines: 1,\n        adjustsFontSizeToFit: true,\n        style: _styles.default.creditCardCvcText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 21\n        }\n      }, \"CVC : 351\", ' ')))))), _react.default.createElement(_reactNative.View, {\n        style: _styles.default.creditCardNPaypalBtnView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 11\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        style: _styles.default.creditCardBtnMainView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 13\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        style: _styles.default.creditCardBtnView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 15\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        style: _styles.default.creditCardCheckBtnView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 17\n        }\n      }, _react.default.createElement(_reactNative.Image, {\n        source: _config.AppImages.checkedpink,\n        style: _styles.default.creditCardCheckImage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 19\n        }\n      })), _react.default.createElement(_reactNative.Text, {\n        numberOfLines: 1,\n        adjustsFontSizeToFit: true,\n        style: _styles.default.creditCardBtnText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 17\n        }\n      }, \"Credit Cards\"))), _react.default.createElement(_reactNative.View, {\n        style: _styles.default.payPalBtnMainView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 13\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        style: _styles.default.payPalBtnView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 15\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        style: _styles.default.paypalBtnImgView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 17\n        }\n      }, _react.default.createElement(_reactNative.Image, {\n        source: _config.AppImages.unchecked,\n        style: _styles.default.paypalBtnImage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 19\n        }\n      })), _react.default.createElement(_reactNative.Image, {\n        source: _config.AppImages.paypal,\n        style: _styles.default.paypalLogo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 17\n        }\n      }), _react.default.createElement(_reactNative.Text, {\n        numberOfLines: 1,\n        adjustsFontSizeToFit: true,\n        style: _styles.default.payPalBtnTxt,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 17\n        }\n      }, ' ', \"PayPal\")))), _react.default.createElement(_reactNative.View, {\n        style: _styles.default.skrillBtnMainView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 11\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        style: _styles.default.skrillBtnSubView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 13\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        style: _styles.default.skrillBtnView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 15\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        style: _styles.default.skrillBtnCheckImgView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 17\n        }\n      }, _react.default.createElement(_reactNative.Image, {\n        source: _config.AppImages.unchecked,\n        style: _styles.default.skrillBtnCheckImage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 19\n        }\n      })), _react.default.createElement(_reactNative.Text, {\n        numberOfLines: 1,\n        adjustsFontSizeToFit: true,\n        style: _styles.default.skrillBtnText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 17\n        }\n      }, \"Skrill\")))), _react.default.createElement(_reactNative.Text, {\n        numberOfLines: 1,\n        adjustsFontSizeToFit: true,\n        style: _styles.default.cardInformationText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 11\n        }\n      }, ' ', \"Card Information\"), _react.default.createElement(_reactNative.View, {\n        style: _styles.default.nameTextInputView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 11\n        }\n      }, _react.default.createElement(_reactNativeGestureHandler.TextInput, {\n        placeholder: 'Name',\n        placeholderTextColor: '#707070',\n        style: _styles.default.nameTextInput,\n        value: creditCard.name,\n        onChangeText: this.handleCreditCardData('name'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 13\n        }\n      })), _react.default.createElement(_reactNative.View, {\n        style: _styles.default.cardNoTextInputView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 11\n        }\n      }, _react.default.createElement(_reactNativeGestureHandler.TextInput, {\n        placeholder: 'Card No',\n        placeholderTextColor: '#707070',\n        style: _styles.default.cardNoTextInput,\n        value: creditCard.number,\n        onChangeText: this.handleCreditCardData('number'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 13\n        }\n      }), _react.default.createElement(_reactNative.Image, {\n        source: _config.AppImages.visa,\n        style: _styles.default.visaImage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 13\n        }\n      })), _react.default.createElement(_reactNative.View, {\n        style: _styles.default.cvcNExpDate,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 11\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        style: _styles.default.cvcView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 13\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        style: _styles.default.cvcTextInputView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 15\n        }\n      }, _react.default.createElement(_reactNativeGestureHandler.TextInput, {\n        placeholder: 'CVS',\n        placeholderTextColor: '#707070',\n        style: _styles.default.cvcTextInput,\n        value: creditCard.cvs,\n        onChangeText: this.handleCreditCardData('cvs'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 17\n        }\n      }))), _react.default.createElement(_reactNative.View, {\n        style: _styles.default.exDateView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 13\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        style: _styles.default.exDateTextInputView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 15\n        }\n      }, _react.default.createElement(_reactNativeGestureHandler.TextInput, {\n        placeholder: 'Ex Date',\n        placeholderTextColor: '#707070',\n        style: _styles.default.exDateTextInput,\n        value: creditCard.expiry,\n        onChangeText: this.handleCreditCardData('expiry'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 17\n        }\n      })))), _react.default.createElement(_reactNative.View, {\n        style: _styles.default.cardSaveView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 11\n        }\n      }, _react.default.createElement(_reactNative.TouchableOpacity, {\n        onPress: function onPress() {\n          return _this2.handleCreditCardData('save')(!creditCard.save);\n        },\n        style: _styles.default.cardSaveCheckMarkImage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 13\n        }\n      }, this.renderSaveCardCheckBox()), _react.default.createElement(_reactNative.Text, {\n        style: _styles.default.cardSaveTextInput,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 13\n        }\n      }, \"save the card\")), _react.default.createElement(_reactNative.View, {\n        style: _styles.default.completePaymentBtnView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 11\n        }\n      }, _react.default.createElement(_reactNative.TouchableOpacity, {\n        disabled: isLoading,\n        onPress: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 13\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        style: _styles.default.completePaymentBtnSubView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 15\n        }\n      }, isLoading ? _react.default.createElement(_reactNative.View, {\n        style: [_styles.default.CompletePaymentText, {\n          width: 180\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 19\n        }\n      }, _react.default.createElement(_reactNative.ActivityIndicator, {\n        color: \"white\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 21\n        }\n      })) : _react.default.createElement(_reactNative.Text, {\n        style: _styles.default.CompletePaymentText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 19\n        }\n      }, \"COMPLETE PAYMENT\")))), _react.default.createElement(_reactNative.View, {\n        style: _styles.default.bottomSafeArea,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 11\n        }\n      })));\n    }\n  }]);\n  return TicketBuy;\n}(_react.default.Component);\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {};\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    auth: state.auth\n  };\n};\n\nfunction WrapTicketBuy(props) {\n  var _this3 = this;\n\n  return _react.default.createElement(_auth.default, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 460,\n      columnNumber: 5\n    }\n  }, _react.default.createElement(_auth.AuthContext.Consumer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 461,\n      columnNumber: 7\n    }\n  }, function (_ref) {\n    var currentUser = _ref.currentUser,\n        isLoading = _ref.isLoading;\n    return _react.default.createElement(TicketBuy, (0, _extends3.default)({\n      currentUser: currentUser\n    }, props, {\n      __self: _this3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 11\n      }\n    }));\n  }));\n}\n\nvar _default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(WrapTicketBuy);\n\nexports.default = _default;","map":{"version":3,"sources":["C:/Program Files/nodejs/ComeClosely/app/views/screens/TicketBuy/index.tsx"],"names":["TicketBuy","state","isLoading","eventData","ticketData","ticketId","createTicketId","creditCard","name","number","cvs","expiry","save","getCreditCardToken","creditCardData","card","replace","expMonth","expYear","fetch","headers","Accept","Authorization","method","body","Object","keys","map","key","join","then","response","json","handleSubmit","setState","split","token","error","Alert","alert","message","JSON","stringify","email","props","currentUser","id","amount","totalAmount","saveCard","res","resp","console","log","navigation","navigate","isPaymentSuccess","ticketRef","collection","doc","now","Date","ticket","userId","uid","createdAt","updatedAt","set","userRef","update","customerId","catch","e","handleCreditCardData","type","value","cc_expires_format","renderSaveCardCheckBox","imgSource","AppImages","checkboxSelected","checkboxUnselected","styles","cardSaveCheckMarkImage","route","params","result","characters","charactersLength","length","i","charAt","Math","floor","random","string","container","eventImageView","loginImage","eventImage","headerMainView","shareButtonView","share","shareImg","closeButtonMainView","closeButtonView","close","heartButtonMainView","heartButtonView","filledHeart","ticketMainView","ticketImg","ticketTitleNTimeView","ticketTimeView","ticketTimeText","date","time","ticketTitleView","ticketTitleText","title","ticketbottomView","ticketTypeView","ticketTypeText","ticketEntryNExtrasView","ticketEntryMainView","ticketEntryTitleView","entry","ticketEntryImage","ticketEntryTitleText","ticketEntryAnsView","ticketEntryAnsText","totalPersons","ticketExtrasMainView","ticketExtrasTitleView","starpink","ticketExtrasTitleImage","ticketExtrasTitleText","ticketExtrasTitleAnsView","ticketExtrasTitleAnsText","extras","ticketIdMainView","ticketIdTitleText","ticketIdText","ticketBarcodeView","creditCardMainView","creditCardView","creditCardImage","creditCardNumberText","creditCardBottomSubView","creditCardNameView","creditCardNameText","creditCardExDateNCvcView","creditCardExDateView","creditCardExDateText","creditCardCvcView","creditCardCvcText","creditCardNPaypalBtnView","creditCardBtnMainView","creditCardBtnView","creditCardCheckBtnView","checkedpink","creditCardCheckImage","creditCardBtnText","payPalBtnMainView","payPalBtnView","paypalBtnImgView","unchecked","paypalBtnImage","paypal","paypalLogo","payPalBtnTxt","skrillBtnMainView","skrillBtnSubView","skrillBtnView","skrillBtnCheckImgView","skrillBtnCheckImage","skrillBtnText","cardInformationText","nameTextInputView","nameTextInput","cardNoTextInputView","cardNoTextInput","visa","visaImage","cvcNExpDate","cvcView","cvcTextInputView","cvcTextInput","exDateView","exDateTextInputView","exDateTextInput","cardSaveView","cardSaveTextInput","completePaymentBtnView","completePaymentBtnSubView","CompletePaymentText","width","bottomSafeArea","React","Component","mapDispatchToProps","dispatch","mapStateToProps","auth","WrapTicketBuy"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { StatusBar, Text, View, Image, TouchableOpacity, Alert, ActivityIndicator } from 'react-native';\r\n\r\nimport Barcode from 'react-native-barcode-builder';\r\nimport { ScrollView, TextInput } from 'react-native-gesture-handler';\r\n\r\nimport { AppImages } from '../../config';\r\nimport styles from './styles';\r\nimport { connect } from 'react-redux';\r\nimport AuthProvider from '../../../../app/providers/auth';\r\nimport { AuthContext } from '../../../../app/providers/auth';\r\nimport firestore from '@react-native-firebase/firestore';\r\n\r\nclass TicketBuy extends React.Component {\r\n  state = {\r\n    isLoading: false,\r\n    eventData: {},\r\n    ticketData: {},\r\n    ticketId: this.createTicketId(),\r\n    creditCard: {\r\n      name: '',\r\n      number: '',\r\n      cvs: '',\r\n      expiry: '',\r\n      save: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { eventData, ticketData } = this.props.route.params;\r\n    this.setState({ eventData, ticketData })\r\n  }\r\n\r\n  createTicketId() {\r\n    var result = 'NDF';\r\n    var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\r\n    var charactersLength = characters.length;\r\n    for (var i = 0; i < 16; i++) {\r\n      result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n    }\r\n    return result;\r\n  }\r\n\r\n  getCreditCardToken = (creditCardData: any) => {\r\n    const card = {\r\n      'owner[name]': creditCardData.name,\r\n      'card[number]': creditCardData.number.replace(/ /g, ''),\r\n      'card[exp_month]': creditCardData.expMonth,\r\n      'card[exp_year]': creditCardData.expYear,\r\n      'card[cvc]': creditCardData.cvs\r\n    };\r\n\r\n    return fetch('https://api.stripe.com/v1/sources', {\r\n      headers: {\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/x-www-form-urlencoded',\r\n        Authorization: `Bearer pk_test_51H2Nb4KydQMjEXTR4eX9PRRN6W1WZNMfjPwWLJdc2JQutGTpQdHgpKs4GFmGfyMJ0IRvxlkt7pJ360xIwmp6MNNp00xGFzUayR`\r\n      },\r\n      method: 'post',\r\n      // Format the credit card data to a string of key-value pairs\r\n      // divided by &\r\n      body: 'type=card&' + Object.keys(card)\r\n        .map(key => key + '=' + card[key])\r\n        .join('&')\r\n    }).then(response => response.json());\r\n  };\r\n\r\n  handleSubmit = async () => {\r\n    try {\r\n      this.setState({ isLoading: true })\r\n      const { eventData, ticketData, ticketId, creditCard } = this.state;\r\n      const expMonth = creditCard.expiry.split('/')[0] || 0;\r\n      const expYear = creditCard.expiry.split('/')[1] || 0;\r\n      const token = await this.getCreditCardToken({ ...creditCard, expMonth, expYear })\r\n      if (typeof token?.error == 'object') {\r\n        this.setState({ isLoading: false })\r\n        Alert.alert(token.error.message)\r\n      }\r\n      else {\r\n        fetch(\r\n          'https://us-central1-comeclosely-71c7c.cloudfunctions.net/chargeuser',\r\n          {\r\n            headers: {\r\n              Accept: 'application/json',\r\n              'Content-Type': 'application/json',\r\n            },\r\n            method: 'post',\r\n            body: JSON.stringify({\r\n              name: creditCard.name,\r\n              email: this.props.currentUser.email,\r\n              token: token.id,\r\n              amount: ticketData.totalAmount * 100,\r\n              saveCard: creditCard.save\r\n            })\r\n          }\r\n        )\r\n          .then(res => res.json())\r\n          .then(async (resp: any) => {\r\n            console.log(resp)\r\n            if (resp.error) {\r\n              this.setState({ isLoading: false })\r\n              this.props.navigation.navigate('PaymentStatus', { isPaymentSuccess: false })\r\n            }\r\n            else {\r\n              const ticketRef = firestore().collection('tickets').doc(ticketId);\r\n              const now = Date.now();\r\n              let ticket = {\r\n                ...ticketData,\r\n                userId: this.props.currentUser.uid,\r\n                createdAt: now,\r\n                updatedAt: now,\r\n              };\r\n              ticketRef.set(ticket);\r\n              if (creditCard.save) {\r\n                const userRef = firestore().collection('users').doc(this.props.currentUser.uid);\r\n                userRef.update({ customerId: resp.customerId })\r\n              }\r\n              this.setState({ isLoading: false })\r\n              this.props.navigation.navigate('PaymentStatus', { isPaymentSuccess: true })\r\n            }\r\n          })\r\n          .catch(e => {\r\n            console.log('error:', e.message)\r\n            this.setState({ isLoading: false })\r\n            this.props.navigation.navigate('PaymentStatus', { isPaymentSuccess: false })\r\n          })\r\n      }\r\n    }\r\n    catch (error) {\r\n      this.setState({ isLoading: false })\r\n    }\r\n  }\r\n\r\n  handleCreditCardData = (type: any) => (value: any) => {\r\n    const { creditCard } = this.state;\r\n    if (type === 'expiry') {\r\n      let expiry = this.cc_expires_format(value);\r\n      this.setState({ creditCard: { ...creditCard, expiry } })\r\n    }\r\n    else {\r\n      this.setState({ creditCard: { ...creditCard, [type]: value } })\r\n    }\r\n  }\r\n  cc_expires_format(string: any) {\r\n    return string.replace(\r\n      /[^0-9]/g, '' // To allow only numbers\r\n    ).replace(\r\n      /^([2-9])$/g, '0$1' // To handle 3 > 03\r\n    ).replace(\r\n      /^(1{1})([3-9]{1})$/g, '0$1/$2' // 13 > 01/3\r\n    ).replace(\r\n      /^0{1,}/g, '0' // To handle 00 > 0\r\n    ).replace(\r\n      /^([0-1]{1}[0-9]{1})([0-9]{1,2}).*/g, '$1/$2' // To handle 113 > 11/3\r\n    );\r\n  }\r\n\r\n  renderSaveCardCheckBox = () => {\r\n    var imgSource = this.state.creditCard.save\r\n      ? AppImages.checkboxSelected\r\n      : AppImages.checkboxUnselected;\r\n    return <Image style={styles.cardSaveCheckMarkImage} source={imgSource} />;\r\n  }\r\n\r\n  render() {\r\n    const { eventData, ticketData, ticketId, creditCard, isLoading } = this.state;\r\n    return (\r\n      <View style={styles.container}>\r\n        {/* for back Image */}\r\n        <StatusBar translucent backgroundColor=\"transparent\" />\r\n        <View style={styles.eventImageView}>\r\n          <Image source={AppImages.loginImage} style={styles.eventImage} />\r\n        </View>\r\n        <View style={styles.headerMainView}>\r\n          <View style={styles.shareButtonView}>\r\n            <TouchableOpacity>\r\n              <Image\r\n                resizeMode={'contain'}\r\n                source={AppImages.share}\r\n                style={styles.shareImg}\r\n              />\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.closeButtonMainView}>\r\n            <View style={styles.closeButtonView}>\r\n              <TouchableOpacity>\r\n                <Image\r\n                  resizeMode={'contain'}\r\n                  source={AppImages.close}\r\n                  style={styles.shareImg}\r\n                />\r\n              </TouchableOpacity>\r\n            </View>\r\n            <View style={styles.heartButtonMainView}>\r\n              <View style={styles.heartButtonView}>\r\n                <TouchableOpacity>\r\n                  <Image\r\n                    resizeMode={'contain'}\r\n                    source={AppImages.filledHeart}\r\n                    style={styles.shareImg}\r\n                  />\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <ScrollView>\r\n          <View style={styles.ticketMainView}>\r\n            <Image\r\n              resizeMode={'contain'}\r\n              source={AppImages.ticketImg}\r\n              style={styles.ticketImg}\r\n            />\r\n            <View style={styles.ticketTitleNTimeView}>\r\n              <View style={styles.ticketTimeView}>\r\n                <Text style={styles.ticketTimeText}>{eventData.date} | {eventData.time}</Text>\r\n              </View>\r\n              <View style={styles.ticketTitleView}>\r\n                <Text\r\n                  numberOfLines={3}\r\n                  adjustsFontSizeToFit\r\n                  style={styles.ticketTitleText}>\r\n                  {eventData.title}\r\n                </Text>\r\n              </View>\r\n            </View>\r\n            <View style={styles.ticketbottomView}>\r\n              <View style={styles.ticketTypeView}>\r\n                <Text\r\n                  numberOfLines={1}\r\n                  adjustsFontSizeToFit\r\n                  style={styles.ticketTypeText}>\r\n                  {eventData.type}\r\n                </Text>\r\n              </View>\r\n              <View style={styles.ticketEntryNExtrasView}>\r\n                <View style={styles.ticketEntryMainView}>\r\n                  <View style={styles.ticketEntryTitleView}>\r\n                    <Image\r\n                      resizeMode={'contain'}\r\n                      source={AppImages.entry}\r\n                      style={styles.ticketEntryImage}\r\n                    />\r\n                    <Text style={styles.ticketEntryTitleText}>Entry</Text>\r\n                  </View>\r\n                  <View style={styles.ticketEntryAnsView}>\r\n                    <Text\r\n                      numberOfLines={1}\r\n                      adjustsFontSizeToFit\r\n                      style={styles.ticketEntryAnsText}>\r\n                      {ticketData.totalPersons} Persons\r\n                    </Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.ticketExtrasMainView}>\r\n                  <View style={styles.ticketExtrasTitleView}>\r\n                    <Image\r\n                      resizeMode={'contain'}\r\n                      source={AppImages.starpink}\r\n                      style={styles.ticketExtrasTitleImage}\r\n                    />\r\n                    <Text style={styles.ticketExtrasTitleText}>Extras</Text>\r\n                  </View>\r\n                  <View style={styles.ticketExtrasTitleAnsView}>\r\n                    <Text\r\n                      numberOfLines={1}\r\n                      adjustsFontSizeToFit\r\n                      style={styles.ticketExtrasTitleAnsText}>\r\n                      {ticketData.extras}\r\n                    </Text>\r\n                  </View>\r\n                </View>\r\n              </View>\r\n              <View style={styles.ticketIdMainView}>\r\n                <Text style={styles.ticketIdTitleText}>Ticket ID</Text>\r\n                <Text style={styles.ticketIdText}>{ticketId}</Text>\r\n                <View style={styles.ticketBarcodeView}>\r\n                  <Barcode value={ticketId} format=\"CODE128\" />\r\n                </View>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.creditCardMainView}>\r\n            <View style={styles.creditCardView}>\r\n              <Image source={AppImages.card} style={styles.creditCardImage} />\r\n              <Text style={styles.creditCardNumberText}>\r\n                4000 2331 5875 1453\r\n              </Text>\r\n              <View style={styles.creditCardBottomSubView}>\r\n                <View style={styles.creditCardNameView}>\r\n                  <Text\r\n                    numberOfLines={2}\r\n                    adjustsFontSizeToFit\r\n                    style={styles.creditCardNameText}>\r\n                    BIN BURHAN\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.creditCardExDateNCvcView}>\r\n                  <View style={styles.creditCardExDateView}>\r\n                    <Text\r\n                      numberOfLines={1}\r\n                      adjustsFontSizeToFit\r\n                      style={styles.creditCardExDateText}>\r\n                      EX Date : 02/22\r\n                    </Text>\r\n                  </View>\r\n                  <View style={styles.creditCardCvcView}>\r\n                    <Text\r\n                      numberOfLines={1}\r\n                      adjustsFontSizeToFit\r\n                      style={styles.creditCardCvcText}>\r\n                      CVC : 351{' '}\r\n                    </Text>\r\n                  </View>\r\n                </View>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.creditCardNPaypalBtnView}>\r\n            <View style={styles.creditCardBtnMainView}>\r\n              <View style={styles.creditCardBtnView}>\r\n                <View style={styles.creditCardCheckBtnView}>\r\n                  <Image\r\n                    source={AppImages.checkedpink}\r\n                    style={styles.creditCardCheckImage}\r\n                  />\r\n                </View>\r\n                <Text\r\n                  numberOfLines={1}\r\n                  adjustsFontSizeToFit\r\n                  style={styles.creditCardBtnText}>\r\n                  Credit Cards\r\n                </Text>\r\n              </View>\r\n            </View>\r\n            <View style={styles.payPalBtnMainView}>\r\n              <View style={styles.payPalBtnView}>\r\n                <View style={styles.paypalBtnImgView}>\r\n                  <Image\r\n                    source={AppImages.unchecked}\r\n                    style={styles.paypalBtnImage}\r\n                  />\r\n                </View>\r\n                <Image source={AppImages.paypal} style={styles.paypalLogo} />\r\n                <Text\r\n                  numberOfLines={1}\r\n                  adjustsFontSizeToFit\r\n                  style={styles.payPalBtnTxt}>\r\n                  {' '}\r\n                  PayPal\r\n                </Text>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.skrillBtnMainView}>\r\n            <View style={styles.skrillBtnSubView}>\r\n              <View style={styles.skrillBtnView}>\r\n                <View style={styles.skrillBtnCheckImgView}>\r\n                  <Image\r\n                    source={AppImages.unchecked}\r\n                    style={styles.skrillBtnCheckImage}\r\n                  />\r\n                </View>\r\n                <Text\r\n                  numberOfLines={1}\r\n                  adjustsFontSizeToFit\r\n                  style={styles.skrillBtnText}>\r\n                  Skrill\r\n                </Text>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <Text\r\n            numberOfLines={1}\r\n            adjustsFontSizeToFit\r\n            style={styles.cardInformationText}>\r\n            {' '}\r\n            Card Information\r\n          </Text>\r\n          <View style={styles.nameTextInputView}>\r\n            <TextInput\r\n              placeholder={'Name'}\r\n              placeholderTextColor={'#707070'}\r\n              style={styles.nameTextInput}\r\n              value={creditCard.name}\r\n              onChangeText={this.handleCreditCardData('name')}\r\n            />\r\n          </View>\r\n          <View style={styles.cardNoTextInputView}>\r\n            <TextInput\r\n              placeholder={'Card No'}\r\n              placeholderTextColor={'#707070'}\r\n              style={styles.cardNoTextInput}\r\n              value={creditCard.number}\r\n              onChangeText={this.handleCreditCardData('number')}\r\n            />\r\n            <Image source={AppImages.visa} style={styles.visaImage} />\r\n          </View>\r\n          <View style={styles.cvcNExpDate}>\r\n            <View style={styles.cvcView}>\r\n              <View style={styles.cvcTextInputView}>\r\n                <TextInput\r\n                  placeholder={'CVS'}\r\n                  placeholderTextColor={'#707070'}\r\n                  style={styles.cvcTextInput}\r\n                  value={creditCard.cvs}\r\n                  onChangeText={this.handleCreditCardData('cvs')}\r\n                />\r\n              </View>\r\n            </View>\r\n            <View style={styles.exDateView}>\r\n              <View style={styles.exDateTextInputView}>\r\n                <TextInput\r\n                  placeholder={'Ex Date'}\r\n                  placeholderTextColor={'#707070'}\r\n                  style={styles.exDateTextInput}\r\n                  value={creditCard.expiry}\r\n                  onChangeText={this.handleCreditCardData('expiry')}\r\n                />\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.cardSaveView}>\r\n            <TouchableOpacity onPress={() => this.handleCreditCardData('save')(!creditCard.save)} style={styles.cardSaveCheckMarkImage} >\r\n              {this.renderSaveCardCheckBox()}\r\n            </TouchableOpacity>\r\n            <Text style={styles.cardSaveTextInput}>save the card</Text>\r\n          </View>\r\n          <View style={styles.completePaymentBtnView}>\r\n            <TouchableOpacity disabled={isLoading} onPress={this.handleSubmit}>\r\n              <View style={styles.completePaymentBtnSubView}>{\r\n                isLoading ?\r\n                  <View style={[styles.CompletePaymentText, { width: 180 }]}>\r\n                    <ActivityIndicator color=\"white\" />\r\n                  </View> :\r\n                  <Text style={styles.CompletePaymentText}>COMPLETE PAYMENT</Text>\r\n              }\r\n              </View>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.bottomSafeArea} />\r\n        </ScrollView>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch: Function) => {\r\n  return {\r\n  };\r\n};\r\n\r\nconst mapStateToProps = (state: any) => {\r\n  return {\r\n    auth: state.auth\r\n  };\r\n};\r\nfunction WrapTicketBuy(props: any) {\r\n  return (\r\n    <AuthProvider>\r\n      <AuthContext.Consumer>\r\n        {({ currentUser, isLoading }) => (\r\n          <TicketBuy currentUser={currentUser} {...props} />\r\n        )}\r\n      </AuthContext.Consumer>\r\n    </AuthProvider>\r\n  )\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(WrapTicketBuy);\r\n\r\n// export default TicketBuy;"]},"metadata":{},"sourceType":"script"}